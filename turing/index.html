<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Turing MasaÃ¼stÃ¼</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body onclick="closeAllMenus()">

<!-- Ana Uygulama AlanÄ± (Tam Ekran) -->
<div class="app-layout">
    <div class="top-section ui-titlebar">
        <div class="title-bar">
            <div style="display:flex; align-items:center; gap:10px;">
                <svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='currentColor'><path d='M2 4h20v16H2z'/></svg>
                Turing Dosya Gezgini
            </div>
        </div>
        
        <div class="menu-bar" id="uiMenuBar">
            <div class="dropdown" id="menuDosya" onclick="toggleMenu('menuDosya', event)">
                <button class="drop-btn">Dosya</button>
                <div class="drop-content">
                    <div class="drop-item" onclick="createItem('folder')">ğŸ“ Yeni KlasÃ¶r</div>
                    <div class="drop-item" onclick="createItem('word')">ğŸ“„ Yeni Kelime KartÄ±</div>
                    <div class="drop-item" onclick="openBulkModal()">ğŸ—‚ï¸ Toplu Kelime Ekle</div>
                    <div class="ctx-divider"></div>
                    <div class="drop-item" onclick="createItem('game')">ğŸ® Yeni Oyun</div>
                    <div class="drop-item" onclick="createItem('note')">ğŸ“ Yeni Not Defteri</div>
                </div>
            </div>
            
            <div class="dropdown" id="menuDuzenle" onclick="toggleMenu('menuDuzenle', event)">
                <button class="drop-btn">DÃ¼zenle</button>
                <div class="drop-content">
                    <div class="drop-item disabled" id="menuUndo" onclick="undoLastAction()">â†©ï¸ Geri Al (Ctrl+Z)</div>
                    <div class="drop-item disabled" id="menuRedo" onclick="redoLastAction()">â†ªï¸ Ä°leri Al (Ctrl+Y)</div>
                    <div class="drop-item" onclick="selectAll()">âœ… TÃ¼mÃ¼nÃ¼ SeÃ§ (Ctrl+A)</div>
                    <div class="drop-item" onclick="focusSearch()">ğŸ” Bul (Ctrl+F)</div>
                    <div class="ctx-divider"></div>
                    <div class="drop-item" id="topMenuOpen" onclick="ctxAction('open')">ğŸ“‚ AÃ§</div>
                    <div class="drop-item" id="topMenuEdit" onclick="editSelectedItem()">âš™ï¸ DÃ¼zenle</div>
                    <div class="drop-item" id="topMenuDetails" onclick="ctxAction('details')">â„¹ï¸ Detaylar</div>
                    <div class="drop-item" id="topMenuEmoji" onclick="openEmojiPicker()">ğŸ˜€ Emoji Ekle</div>
                    <div class="drop-item" id="topMenuIcon" onclick="openIconDialog()">ğŸ–¼ï¸ Simge DeÄŸiÅŸtir</div>
                    <div class="drop-item" id="topMenuCopy" onclick="ctxAction('copy')">ğŸ“‹ Kopyala</div>
                    <div class="drop-item" onclick="ctxAction('paste')" id="topMenuPaste" style="display:none;">ğŸ“‹ YapÄ±ÅŸtÄ±r</div>
                    <div class="drop-item" id="topMenuRestore" onclick="ctxAction('restore')">â™»ï¸ Geri YÃ¼kle</div>
                    <div class="drop-item" id="topMenuEmptyTrash" onclick="emptyTrash()">ğŸ—‘ï¸ Ã‡Ã¶pÃ¼ BoÅŸalt</div>
                    <div class="ctx-divider"></div>
                    <div class="drop-item" id="topMenuMove" onclick="moveSelected()">âœ‚ï¸ SeÃ§ilenleri TaÅŸÄ±</div>
                    <div class="drop-item" id="topMenuDelete" onclick="deleteSelected()">ğŸ—‘ï¸ Ã‡Ã¶pe At</div>
                </div>
            </div>

            <div class="dropdown" id="menuGorunum" onclick="toggleMenu('menuGorunum', event)">
                <button class="drop-btn">GÃ¶rÃ¼nÃ¼m</button>
                <div class="drop-content">
                    <div class="drop-item" onclick="openThemeSettingsDialog()">ğŸ¨ Tema AyarlarÄ±</div>
                    <div class="drop-item" onclick="toggleUI()">ğŸ‘ï¸ Gezgini Gizle/GÃ¶ster (Ctrl+B)</div>
                </div>
            </div>

            <div class="dropdown" id="menuYedek" onclick="toggleMenu('menuYedek', event)">
                <button class="drop-btn">Yedekleme</button>
                <div class="drop-content">
                    <div class="drop-item" onclick="exportData()">â¬‡ï¸ Yedek Ä°ndir</div>
                    <div class="drop-item" onclick="document.getElementById('importFile').click()">â¬†ï¸ Yedek YÃ¼kle</div>
                    <div class="ctx-divider"></div>
                    <div class="drop-item" onclick="openResetDialog()" style="color:#ef4444;">âš ï¸ Her Åeyi SÄ±fÄ±rla</div>
                </div>
            </div>
            <input type="file" id="importFile" style="display:none" accept=".json" onchange="importData(event)">
        </div>
    </div>

    <div class="toolbar" id="uiToolBar">
        <div class="nav-group">
            <button class="nav-btn" id="btnBack" onclick="goBack()" title="Geri">â†</button>
            <button class="nav-btn" id="btnForward" onclick="goForward()" title="Ä°leri">â†’</button>
            <button class="nav-btn" onclick="goUp()" title="YukarÄ±">â†‘</button>
        </div>
        <div id="trashTools" style="display:none; gap:6px; margin-right: 6px;">
            <button class="smart-btn" onclick="restoreAll()">â™»ï¸ TÃ¼mÃ¼nÃ¼ Kurtar</button>
            <button class="smart-btn" onclick="emptyTrash()">ğŸ—‘ï¸ BoÅŸalt</button>
        </div>
        <div class="address-bar" id="addressPath"></div>
        
        <div style="display: flex; gap: 8px; align-items: center;">
            <select class="view-select" id="viewMode" onchange="renderContent()" title="GÃ¶rÃ¼nÃ¼m Modu">
                <option value="all">TÃ¼mÃ¼ (Kaynak/Ã‡eviri)</option>
                <option value="tr">Sadece Ã‡eviri</option>
                <option value="en">Sadece Kaynak</option>
            </select>

            <select class="view-select" id="sortMode" onchange="renderContent()" title="SÄ±ralama Modu">
                <option value="name_asc">A - Z</option>
                <option value="name_desc">Z - A</option>
                <option value="date_desc">En Yeni</option>
                <option value="date_asc">En Eski</option>
            </select>
        </div>

        <div class="search-box" id="uiSearchBox">
            ğŸ” <input type="text" id="searchBox" class="search-input" placeholder="Genel Arama yap..." oninput="renderContent()">
        </div>
    </div>

    <div class="main-area">
        <div class="sidebar" id="sidebarTree"></div>
        <div class="content-area" id="contentArea" oncontextmenu="showContextMenu(event, 'bg', null)"></div>
    </div>

    <div class="status-bar" id="uiStatusBar">
        <span id="statusText">0 Ã¶ÄŸe | 0 seÃ§ili</span>
    </div>
</div>

<div id="contextMenu">
    <div id="ctxNewGroup">
        <div class="ctx-item" onclick="createItem('folder', true)">ğŸ“ Yeni KlasÃ¶r</div>
        <div class="ctx-item" onclick="createItem('word', true)">ğŸ“„ Yeni Kelime</div>
        <div class="ctx-item" onclick="openBulkModal()">ğŸ—‚ï¸ Toplu Ekle</div>
        <div class="ctx-item" onclick="createItem('game', true)">ğŸ® Yeni Oyun</div>
        <div class="ctx-item" onclick="createItem('note', true)">ğŸ“ Yeni Not</div>
        <div class="ctx-divider"></div>
    </div>
    <div class="ctx-item" id="ctxOpen" onclick="ctxAction('open')">ğŸ“‚ AÃ§</div>
    <div class="ctx-item" id="ctxCopy" onclick="ctxAction('copy')">ğŸ“‹ Kopyala</div>
    <div class="ctx-item" id="ctxPaste" onclick="ctxAction('paste')">ğŸ“‹ YapÄ±ÅŸtÄ±r</div>
    <div class="ctx-item" id="ctxEdit" onclick="ctxAction('edit')">âš™ï¸ Ã–zellikler</div>
    <div class="ctx-item" id="ctxEmoji" onclick="openEmojiPicker()">ğŸ˜€ Emoji Ekle</div>
    <div class="ctx-item" id="ctxIcon" onclick="openIconDialog()">ğŸ–¼ï¸ Simge DeÄŸiÅŸtir</div>
    <div class="ctx-item" id="ctxDetails" onclick="ctxAction('details')">â„¹ï¸ Detaylar</div>
    <div class="ctx-item" id="ctxMove" onclick="ctxAction('move')">âœ‚ï¸ TaÅŸÄ±...</div>
    <div class="ctx-divider" id="ctxDiv2"></div>
    <div class="ctx-item" id="ctxRestore" onclick="ctxAction('restore')" style="display:none;">â™»ï¸ Geri YÃ¼kle</div>
    <div class="ctx-item" id="ctxDelete" onclick="ctxAction('delete')">ğŸ—‘ï¸ Ã‡Ã¶pe At</div>
    <div class="ctx-item" id="ctxEmptyTrash" onclick="ctxAction('emptyTrash')" style="display:none;">ğŸ—‘ï¸ Ã‡Ã¶pÃ¼ BoÅŸalt</div>
</div>

<div class="dialog-overlay" id="detailsDialog">
    <div class="dialog">
        <div class="dialog-header"><span>Ã–ÄŸe DetaylarÄ±</span> <span onclick="closeDialog('detailsDialog')">âœ–</span></div>
        <div class="dialog-body" id="detailsBody"></div>
        <div class="dialog-footer">
            <button class="dialog-btn" onclick="closeDialog('detailsDialog')">Kapat</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="bulkDialog">
    <div class="dialog">
        <div class="dialog-header"><span>Toplu Kelime Ekle</span> <span onclick="closeDialog('bulkDialog')">âœ–</span></div>
        <div class="dialog-body">
            <label>Eklenecek Kelimeler:</label>
            <textarea id="bulkInput" rows="6" placeholder="apple&#10;banana&#10;car..."></textarea>
            <label>Ã‡eviri YÃ¶nÃ¼:</label>
            <div style="display:flex; gap:5px; align-items:center;">
                <select id="bulkL1" style="flex:1;">
                    <option value="en">Ä°ngilizce</option><option value="tr">TÃ¼rkÃ§e</option><option value="de">Almanca</option>
                    <option value="fr">FransÄ±zca</option><option value="es">Ä°spanyolca</option><option value="it">Ä°talyanca</option>
                    <option value="ru">RusÃ§a</option><option value="ja">Japonca</option><option value="ko">Korece</option>
                    <option value="zh">Ã‡ince</option><option value="ar">ArapÃ§a</option>
                </select>
                <span>â¡</span>
                <select id="bulkL2" style="flex:1;">
                    <option value="tr" selected>TÃ¼rkÃ§e</option><option value="en">Ä°ngilizce</option><option value="de">Almanca</option>
                    <option value="fr">FransÄ±zca</option><option value="es">Ä°spanyolca</option><option value="it">Ä°talyanca</option>
                    <option value="ru">RusÃ§a</option><option value="ja">Japonca</option><option value="ko">Korece</option>
                    <option value="zh">Ã‡ince</option><option value="ar">ArapÃ§a</option>
                </select>
            </div>
            <div id="bulkStatus" style="color:var(--primary); font-weight:600; font-size:12px;"></div>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" id="bulkStartBtn" onclick="startBulkImport()">BaÅŸlat</button>
            <button class="dialog-btn" onclick="closeDialog('bulkDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="wordDialog">
    <div class="dialog">
        <div class="dialog-header"><span id="wTitle">Kelime Ã–zellikleri</span> <span onclick="closeDialog('wordDialog')">âœ–</span></div>
        <div class="dialog-body">
            <div style="width:100%; height:120px; border:1px solid var(--border-color); background:var(--bg-sidebar); border-radius: 8px; display:flex; justify-content:center; overflow:hidden;">
                <img id="wPreview" src="" alt="GÃ¶rsel Yok" style="max-height:100%; object-fit: cover;">
            </div>
            <input type="hidden" id="wId">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2px;">
                <label style="margin:0;">Kelime / Ä°fade:</label>
                <select id="wLang1" style="width:auto; padding:2px 6px; height:24px; font-size:11px; border:1px solid var(--border-color); border-radius:4px;">
                    <option value="en">Ä°ngilizce</option><option value="tr">TÃ¼rkÃ§e</option><option value="de">Almanca</option>
                    <option value="fr">FransÄ±zca</option><option value="es">Ä°spanyolca</option><option value="it">Ä°talyanca</option>
                    <option value="ru">RusÃ§a</option><option value="ja">Japonca</option><option value="ko">Korece</option>
                    <option value="zh">Ã‡ince</option><option value="ar">ArapÃ§a</option>
                </select>
            </div>
            <div class="input-group">
                <input type="text" id="wEn" oninput="autoFetchImage()">
                <button class="play-btn" onclick="speakWord(1)">ğŸ”Š</button>
                <button class="smart-btn" onclick="translateWord(1)">Ã‡evir â¬‡</button>
            </div>
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2px; margin-top:10px;">
                <label style="margin:0;">AnlamÄ± / Ã‡evirisi:</label>
                <select id="wLang2" style="width:auto; padding:2px 6px; height:24px; font-size:11px; border:1px solid var(--border-color); border-radius:4px;">
                    <option value="tr" selected>TÃ¼rkÃ§e</option><option value="en">Ä°ngilizce</option><option value="de">Almanca</option>
                    <option value="fr">FransÄ±zca</option><option value="es">Ä°spanyolca</option><option value="it">Ä°talyanca</option>
                    <option value="ru">RusÃ§a</option><option value="ja">Japonca</option><option value="ko">Korece</option>
                    <option value="zh">Ã‡ince</option><option value="ar">ArapÃ§a</option>
                </select>
            </div>
            <div class="input-group">
                <input type="text" id="wTr">
                <button class="play-btn" onclick="speakWord(2)">ğŸ”Š</button>
                <button class="smart-btn" onclick="translateWord(2)">Ã‡evir â¬†</button>
            </div>
            <label>GÃ¶rsel URL:</label>
            <div class="input-group">
                <input type="text" id="wImg" oninput="updatePrev(this.value)">
                <button class="smart-btn" onclick="randomOSImage()">Rastgele</button>
                <button class="smart-btn" onclick="searchGoogleImage()">Web'de Bul</button>
            </div>
            <div id="wLoader" style="color:var(--primary); display:none; font-size:12px;">Ä°ÅŸleniyor...</div>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="saveWord()">Kaydet</button>
            <button class="dialog-btn" onclick="closeDialog('wordDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="noteDialog">
    <div class="dialog" style="max-width: 550px;">
        <div class="dialog-header"><span id="nTitle">Not Defteri</span> <span onclick="closeDialog('noteDialog')">âœ–</span></div>
        <div class="dialog-body">
            <input type="hidden" id="nId">
            <div class="input-group">
                <input type="text" id="nTitleInp" placeholder="Not BaÅŸlÄ±ÄŸÄ±...">
                <button class="play-btn" onclick="speakText(document.getElementById('nTitleInp').value, 'tr-TR')">ğŸ”Š</button>
            </div>
            <div class="editor-toolbar">
                <button class="editor-btn" onclick="execCmd('bold')"><b>B</b></button>
                <button class="editor-btn" onclick="execCmd('italic')"><i>I</i></button>
                <button class="editor-btn" onclick="execCmd('underline')"><u>U</u></button>
                <button class="editor-btn" onclick="execCmd('insertUnorderedList')">â€¢ Liste</button>
                <div style="flex:1;"></div>
                <button class="smart-btn" onclick="speakHtmlContent('nContent', 'tr-TR')">ğŸ”Š Oku</button>
            </div>
            <div id="nContent" class="rich-editor" contenteditable="true" placeholder="Yazmaya baÅŸla..." oninput="updateNoteStats()"></div>
            <div id="nStats" style="font-size:11px; color:var(--text-muted); text-align:right; margin-top:4px;">0 kelime | 0 karakter</div>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="saveNote()">Kaydet</button>
            <button class="dialog-btn" onclick="closeDialog('noteDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="gameDialog">
    <div class="dialog">
        <div class="dialog-header"><span id="gDialogTitle">Oyun Ekle</span> <span onclick="closeDialog('gameDialog')">âœ–</span></div>
        <div class="dialog-body">
            <input type="hidden" id="gId">
            
            <div style="display:flex; gap:15px; margin-bottom:10px;">
                <div style="width:80px; height:80px; flex-shrink:0; border-radius:8px; border:1px solid var(--border-color); background:var(--bg-sidebar); display:flex; align-items:center; justify-content:center; overflow:hidden; position:relative; cursor:pointer;" onclick="document.getElementById('gIcon').focus()" title="Simge Ã–nizleme">
                    <img id="gPreview" src="" style="width:100%; height:100%; object-fit:cover; display:none;">
                    <video id="gPreviewVideo" src="" style="width:100%; height:100%; object-fit:cover; display:none;" autoplay loop muted playsinline></video>
                    <span id="gPreviewPlaceholder" style="font-size:32px; opacity:0.3;">ğŸ®</span>
                </div>
                <div style="flex:1;">
                    <label style="margin-top:0;">Oyun AdÄ±:</label>
                    <input type="text" id="gTitle" placeholder="Ã–rn: Super Mario Bros" style="margin-bottom:10px;" oninput="updateGameIconPreview()">
                    
                    <label style="margin-top:0;">Simge / Kapak URL:</label>
                    <div class="input-group" style="margin-bottom:0;">
                        <input type="text" id="gIcon" placeholder="https://..." oninput="updateGameIconPreview()">
                        <button class="smart-btn" onclick="document.getElementById('gFileInput').click()" title="Dosya SeÃ§">ğŸ“‚</button>
                        <button class="smart-btn" onclick="randomGameImage()" title="Rastgele Bul">ğŸ²</button>
                        <button class="smart-btn" onclick="searchGameImage()" title="Google'da Ara">ğŸ”</button>
                        <button class="smart-btn" onclick="openGameIconGallery()" title="Galeriden SeÃ§">ğŸ¨</button>
                        <input type="file" id="gFileInput" style="display:none;" accept="image/*,video/*" onchange="handleGameFileSelect()">
                    </div>
                </div>
            </div>

            <label>Oyun URL'si (Embed):</label>
            <input type="text" id="gUrl" placeholder="https://www.retrogames.cc/embed/...">
            <div style="font-size:11px; color:var(--text-muted); margin-top:5px;">Ä°pucu: Oyunun "Embed" kodunu (iframe) veya doÄŸrudan URL'sini yapÄ±ÅŸtÄ±rabilirsiniz.</div>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="saveGame()">Kaydet</button>
            <button class="dialog-btn" onclick="closeDialog('gameDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div id="playDialog" class="game-window" style="display:none;">
    <div class="dialog-header" id="playHeader">
        <span id="playTitle">Oyun</span>
        <div class="window-controls">
            <span onclick="refreshGame()" title="Yenile" style="cursor:pointer; font-size:16px;">ğŸ”„</span>
            <span onclick="toggleGameMaximize()" title="Pencereyi Kapla" style="cursor:pointer; font-size:16px;">ğŸ”²</span>
            <span onclick="toggleGameNativeFullscreen()" title="Tam Ekran (Ã‡erÃ§evesiz)" style="cursor:pointer; font-size:16px;">â›¶</span>
            <span onclick="closeGameDialog()" title="Kapat" style="cursor:pointer; font-size:16px; color:#ef4444;">âœ–</span>
        </div>
    </div>
    <div class="dialog-body" style="padding:0; flex:1; overflow:hidden; display:flex;">
        <iframe id="playFrame" class="play-iframe" src="" allowfullscreen></iframe>
    </div>
    <div class="resize-handle" id="playResize"></div>
</div>

<div id="helpDialog" class="game-window" style="display:none; width: 900px; height: 700px;">
    <div class="dialog-header" id="helpHeader">
        <span id="helpTitle">ğŸ“˜ Turing YardÄ±m Merkezi</span>
        <div class="window-controls">
            <span onclick="toggleHelpMaximize()" title="Pencereyi Kapla" style="cursor:pointer; font-size:16px;">ğŸ”²</span>
            <span onclick="toggleHelpNativeFullscreen()" title="Tam Ekran (Ã‡erÃ§evesiz)" style="cursor:pointer; font-size:16px;">â›¶</span>
            <span onclick="closeHelpDialog()" title="Kapat" style="cursor:pointer; font-size:16px; color:#ef4444;">âœ–</span>
        </div>
    </div>
    <div class="dialog-body" style="padding:0; flex:1; overflow:hidden; display:flex;">
        <iframe id="helpFrame" class="play-iframe" srcdoc=""></iframe>
    </div>
    <div class="resize-handle" id="helpResize"></div>
</div>

<div class="dialog-overlay" id="moveDialog">
    <div class="dialog">
        <div class="dialog-header"><span>Hedef KlasÃ¶r</span> <span onclick="closeDialog('moveDialog')">âœ–</span></div>
        <div class="dialog-body">
            <select id="moveTargetSelect" size="8" style="height: 180px; padding: 4px;"></select>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="executeMove()">TaÅŸÄ±</button>
            <button class="dialog-btn" onclick="closeDialog('moveDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="emojiDialog">
    <div class="dialog" style="max-width: 360px;">
        <div class="dialog-header"><span>Bir Emoji SeÃ§</span> <span onclick="closeDialog('emojiDialog')">âœ–</span></div>
        <div class="dialog-body">
            <div class="emoji-grid" id="emojiGrid">
                <!-- JS ile doldurulacak -->
            </div>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn" style="color:#ef4444;" onclick="saveEmoji(null)">âŒ Emojiyi KaldÄ±r</button>
            <button class="dialog-btn" onclick="closeDialog('emojiDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="iconDialog">
    <div class="dialog" style="max-width: 450px;">
        <div class="dialog-header"><span>ğŸ–¼ï¸ Simge YÃ¶netimi</span> <span onclick="closeDialog('iconDialog')">âœ–</span></div>
        <div class="dialog-body" style="padding-top:0;">
            
            <!-- Preview & Status -->
            <div style="display:flex; align-items:center; gap:15px; padding:15px; background:var(--bg-sidebar); margin:0 -20px 15px -20px; border-bottom:1px solid var(--border-color);">
                <div style="width:64px; height:64px; display:flex; align-items:center; justify-content:center; background:var(--bg-window); border-radius:12px; border:1px solid var(--border-color); overflow:hidden; position:relative;">
                    <img id="iconPreview" src="" style="max-width:100%; max-height:100%; display:none;">
                    <span id="iconPreviewPlaceholder" style="font-size:24px; opacity:0.3;">ğŸ–¼ï¸</span>
                </div>
                <div style="flex:1;">
                    <div style="font-weight:600; font-size:14px; margin-bottom:4px;">Simge Ã–nizlemesi</div>
                    <div style="font-size:11px; color:var(--text-muted); line-height:1.4;">GeÃ§erli simge solda gÃ¶rÃ¼nÃ¼r. DeÄŸiÅŸtirmek iÃ§in aÅŸaÄŸÄ±dan seÃ§im yapÄ±n.</div>
                </div>
                <button id="btnResetIcon" onclick="clearIconPreview()" style="display:none; padding:6px 10px; font-size:11px; background:rgba(239,68,68,0.1); color:#ef4444; border:1px solid rgba(239,68,68,0.2); border-radius:6px; cursor:pointer;">ğŸ—‘ï¸ KaldÄ±r</button>
            </div>

            <!-- Tabs -->
            <div style="display:flex; gap:20px; border-bottom:1px solid var(--border-color); margin-bottom:15px;">
                <div class="tab-link active" onclick="switchIconTab('collection')" id="tabLinkCollection" style="padding-bottom:8px; cursor:pointer; font-size:13px; font-weight:500; border-bottom:2px solid var(--primary); color:var(--primary);">ğŸ¨ Koleksiyon</div>
                <div class="tab-link" onclick="switchIconTab('addnew')" id="tabLinkAddnew" style="padding-bottom:8px; cursor:pointer; font-size:13px; font-weight:500; border-bottom:2px solid transparent; color:var(--text-muted);">â• Yeni Ekle</div>
                <div class="tab-link" onclick="switchIconTab('history')" id="tabLinkHistory" style="padding-bottom:8px; cursor:pointer; font-size:13px; font-weight:500; border-bottom:2px solid transparent; color:var(--text-muted);">ğŸ•’ GeÃ§miÅŸ</div>
            </div>

            <!-- Content: Collection (Presets + Custom) -->
            <div id="tabContentCollection">
                <div style="margin-bottom:15px;">
                    <label style="font-size:12px; font-weight:600; display:block; margin-bottom:5px; color:var(--primary);">â­ Ã–zel Simgelerim</label>
                    <div id="customIconGrid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(48px, 1fr)); gap:8px; max-height:120px; overflow-y:auto; padding:2px; min-height:40px; background:var(--bg-window); border:1px solid var(--border-color); border-radius:6px;"></div>
                </div>
                <div>
                    <label style="font-size:12px; font-weight:600; display:block; margin-bottom:5px;">ğŸ“¦ HazÄ±r Galeri</label>
                    <div id="defaultIconGrid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(48px, 1fr)); gap:8px; max-height:150px; overflow-y:auto; padding:2px;"></div>
                </div>
            </div>

            <!-- Content: Add New (URL + File) -->
            <div id="tabContentAddnew" style="display:none;">
                <div style="border:2px dashed var(--border-color); border-radius:8px; padding:20px; text-align:center; margin-bottom:15px; background:var(--bg-window);">
                    <div style="font-size:12px; font-weight:600; margin-bottom:10px;">Dosya YÃ¼kle veya SÃ¼rÃ¼kle</div>
                    <button class="smart-btn" onclick="document.getElementById('iconFileInput').click()">ğŸ“‚ Bilgisayardan SeÃ§</button>
                    <input type="file" id="iconFileInput" onchange="handleNewIconFile()" accept="image/*,video/*" style="display:none;">
                </div>
                
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:15px;">
                    <div style="flex:1; height:1px; background:var(--border-color);"></div>
                    <span style="font-size:11px; color:var(--text-muted);">VEYA</span>
                    <div style="flex:1; height:1px; background:var(--border-color);"></div>
                </div>

                <label style="font-size:12px; font-weight:600; margin-bottom:5px; display:block;">Ä°nternet BaÄŸlantÄ±sÄ± (URL):</label>
                <div style="display:flex; gap:8px;">
                    <input type="text" id="iconUrlInput" placeholder="https://..." oninput="previewIconUrl()" style="flex:1; padding:8px; border:1px solid var(--border-color); border-radius:6px;">
                </div>
                <button class="smart-btn" onclick="addIconToCustomGallery()" style="width:100%; margin-top:15px; padding:10px; justify-content:center; background:var(--primary); color:white;">ğŸ’¾ Galeriye Ekle ve Kullan</button>
            </div>

            <!-- Content: History -->
            <div id="tabContentHistory" style="display:none;">
                <div id="historyIconGrid" style="display:grid; grid-template-columns: repeat(auto-fill, minmax(48px, 1fr)); gap:8px; max-height:180px; overflow-y:auto; padding:2px;"></div>
                <div style="margin-top:10px; text-align:right;"><button class="smart-btn" onclick="clearIconHistory()" style="font-size:10px; color:#ef4444;">GeÃ§miÅŸi Temizle</button></div>
            </div>

            <!-- Hidden SVG Input for advanced users (kept in DOM but hidden) -->
            <textarea id="iconSvgInput" style="display:none;"></textarea>

        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="saveCustomIcon()">DeÄŸiÅŸiklikleri Kaydet</button>
            <button class="dialog-btn" onclick="closeDialog('iconDialog')">VazgeÃ§</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="folderDialog">
    <div class="dialog" style="max-width: 350px;">
        <div class="dialog-header"><span>KlasÃ¶r DÃ¼zenle</span> <span onclick="closeDialog('folderDialog')">âœ–</span></div>
        <div class="dialog-body">
            <input type="hidden" id="fId">
            <label>KlasÃ¶r AdÄ±:</label>
            <input type="text" id="fName" placeholder="KlasÃ¶r AdÄ±">
            <label>Renk SeÃ§:</label>
            <div class="color-options">
                <div class="color-opt" style="background:#fcd34d" onclick="selectColor('#fcd34d')"></div>
                <div class="color-opt" style="background:#60a5fa" onclick="selectColor('#60a5fa')"></div>
                <div class="color-opt" style="background:#f87171" onclick="selectColor('#f87171')"></div>
                <div class="color-opt" style="background:#4ade80" onclick="selectColor('#4ade80')"></div>
                <div class="color-opt" style="background:#c084fc" onclick="selectColor('#c084fc')"></div>
                <div class="color-opt" style="background:#fb923c" onclick="selectColor('#fb923c')"></div>
                <div class="color-opt" style="background:#94a3b8" onclick="selectColor('#94a3b8')"></div>
            </div>
            <input type="color" id="fColorInput" value="#fcd34d" style="width:100%; height:32px; padding:0; border:none; margin-top:8px; cursor:pointer;">
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="saveFolder()">Kaydet</button>
            <button class="dialog-btn" onclick="closeDialog('folderDialog')">Ä°ptal</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="welcomeDialog">
    <div class="dialog" style="max-width: 400px;">
        <div class="dialog-header"><span>ğŸ‘‹ Selamlar!</span></div>
        <div class="dialog-body">
            <p>Ben Asistan. KÃ¼Ã§Ã¼k bir hatÄ±rlatma yapmak istedim.</p>
            <p>Bu sistemdeki verilerin sadece senin bilgisayarÄ±nda (tarayÄ±cÄ±da) saklanÄ±yor. TarayÄ±cÄ± geÃ§miÅŸini temizlersen verilerin uÃ§abilir. Emeklerinin kaybolmasÄ±nÄ± istemem.</p>
            <p>LÃ¼tfen ara sÄ±ra "Yedekleme" bÃ¶lÃ¼mÃ¼nden yedeÄŸini almayÄ± unutma.</p>
            <div style="display:flex; align-items:center; gap:8px; margin-top:5px;">
                <input type="checkbox" id="dontShowWelcome" style="width:auto; cursor:pointer;">
                <label for="dontShowWelcome" style="font-weight:normal; cursor:pointer; margin:0;">Bunu bir daha gÃ¶sterme</label>
            </div>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn primary" onclick="closeWelcomeDialog()">Tamam, AnladÄ±m</button>
        </div>
    </div>
</div>

<div class="dialog-overlay" id="resetDialog">
    <div class="dialog" style="max-width: 400px;">
        <div class="dialog-header"><span style="color:#ef4444;">âš ï¸ Dikkat: SÄ±fÄ±rlama Ä°ÅŸlemi</span></div>
        <div class="dialog-body">
            <p>Bu iÅŸlem, <b>tÃ¼m verilerinizi (klasÃ¶rler, kelimeler, notlar) kalÄ±cÄ± olarak silecektir.</b></p>
            <p>Bu iÅŸlem geri alÄ±namaz. Devam etmeden Ã¶nce yedeÄŸinizi aldÄ±ÄŸÄ±nÄ±zdan emin olun.</p>
        </div>
        <div class="dialog-footer">
            <button class="dialog-btn" style="background:#ef4444; color:white; border-color:#ef4444;" onclick="executeReset()">Evet, Her Åeyi SÄ±fÄ±rla</button>
            <button class="dialog-btn" onclick="closeDialog('resetDialog')">VazgeÃ§</button>
        </div>
    </div>
</div>

<div id="selectionBox"></div>
<script src="script.js"></script>
</body>
</html>
